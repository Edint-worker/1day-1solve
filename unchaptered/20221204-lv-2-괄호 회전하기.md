문제 링크 : https://school.programmers.co.kr/learn/courses/30/lessons/76502#qna

문제 설명

다음 규칙을 지키는 문자열을 올바른 괄호 문자열이라고 정의합니다.

- (), [], {} 는 모두 올바른 괄호 문자열입니다.
- 만약 A가 올바른 괄호 문자열이라면, (A), [A], {A} 도 올바른 괄호 문자열입니다. 예를 들어, [] 가 올바른 괄호 문자열이므로, ([]) 도 올바른 괄호 문자열입니다.
- 만약 A, B가 올바른 괄호 문자열이라면, AB 도 올바른 괄호 문자열입니다. 예를 들어, {} 와 ([]) 가 올바른 괄호 문자열이므로, {}([]) 도 올바른 괄호 문자열입니다.

대괄호, 중괄호, 그리고 소괄호로 이루어진 문자열 s가 매개변수로 주어집니다. 이 s를 왼쪽으로 x (0 ≤ x < (s의 길이)) 칸만큼 회전시켰을 때 s가 올바른 괄호 문자열이 되게 하는 x의 개수를 return 하도록 solution 함수를 완성해주세요.


제한사항

- s의 길이는 1 이상 1,000 이하입니다.

입출력 예

| s	| result |
| --------- | -- |
| "[](){}"	| 3 |
| "}]()[{"	| 2 |
| "[)(]"	| 0 |
| "}}}"	| 0 |

입출력 예 설명

입출력 예 #1

다음 표는 "[](){}" 를 회전시킨 모습을 나타낸 것입니다.

| x	| s를 왼쪽으로 x칸만큼 회전	| 올바른 괄호 문자열? |
| -- | ---------------------- | ------------------ |
| 0	| "[](){}"	| O |
| 1	| "](){}["	| X |
| 2	| "(){}[]"	| O |
| 3	| "){}[]("	| X |
| 4	| "{}[]()"	| O |
| 5	| "}[](){"	| X |

- 올바른 괄호 문자열이 되는 x가 3개이므로, 3을 return 해야 합니다.

```javascript
const partnerMap = {
    '}': '{',
    ']': '[',
    ')': '('
};
const partnerSet = new Set([ '{', '[', '(' ]);

function solution(s) {
    
    // 반례 잡기... 꼼수
    const set = new Set(s);
    if (set.size % 2 !== 0) return 0;

    const words = [...s];
    const loop_count = words.length;

    let result = 0;
    
    let loop = 0;
    let stack;
    while (loop++ < loop_count) {
        
        let is_failed = true;
        stack = [];
        
        for (const word of words) {
            if (partnerSet.has(word)) stack.push(word);
            else {
                const last_word = stack.pop();
                
                if (last_word !== partnerMap[word]) {
                    is_failed = true;
                    break;
                }
                is_failed = false;
            }
        }
        
        words.push(words.shift());
        
        if (is_failed !== true) result++;
    }
    
    return result;
    
}
```

![image](https://user-images.githubusercontent.com/86306802/205479081-3e2544a4-1c9d-4bca-9f56-4d1d115ad804.png)
